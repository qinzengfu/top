<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>
    <script src="js/zepto.js"></script>
    <script  src="js/touch.js"></script>
    <script src="js/fx.js"></script>
    <link rel="stylesheet" href="css/style.css" />
<body>
	<div class="btn"><a href="changeposition.html">跳转到转换页</a></div>
	<div class="top"></div>
	<div class="center"></div>
	<div class="bottom"></div>
</body>
<script type="text/javascript">
	
        var startPosition, endPosition, deltaX, deltaY, moveLength,flag=false,j=0,scrolltop;

       $("body").on('touchstart', function (e) {
       		
       		flag=false;
            var touch = e.touches[0];
            startPosition = {
                x: touch.pageX,
                y: touch.pageY
            }
        });

        $("body").on('touchmove', function (e) {
            var touch = e.touches[0];
            endPosition = {
                x: touch.pageX,
                y: touch.pageY
            }

            deltaX = endPosition.x - startPosition.x;
            deltaY = endPosition.y - startPosition.y;
            //moveLength = Math.sqrt(Math.pow(Math.abs(deltaX), 2) + Math.pow(Math.abs(deltaY), 2));
            //console.log(moveLength);
        });
        
        $("body").on("longTap",function(){
        	flag=true;
        })
        
        $("body").on('touchend', function (e) {
        	
        	if(flag==false){
        		var _top=$("body").scrollTop();
//      		if($("body").scrollTop()<30){
	        		if(deltaY<0){
		            	move(false,350,_top)
		            	console.log($("body").scrollTop());
		          	}else if(deltaY>0){
		          		move(true,0,_top)
		          		console.log($("body").scrollTop());
		            	//$("body").animate({"top":0},1500)
		            }
//		         }
//      		if($("body").scrollTop()>=30&&$("body").scrollTop()<=200){
//      			console.log(flag);
//      		}
	        	
	            
        	}
        	
        });
	function move(bool,num,_top){
		var tbmove=setInterval(function(){
			console.log(num,_top)
			if(bool==true){
				_top+=10;
				if(_top>num){
					_top=num;
					clearInterval(tbmove);
				}
			}else if(bool==false){
				_top-=10;
				if(_top<num){
					_top=num;
					clearInterval(tbmove);
				}
			}
			
			$("body").scrollTop(_top);
		},500)
	}
	
</script>
</html>